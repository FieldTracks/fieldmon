<h2>Names</h2>
<button (click)='refresh()' >Refresh</button>
<label>Autorefresh:</label>
<input checked (click)="toggleRefresh()" type="checkbox"><br>
<hr>
<table mat-table [dataSource]="datasource" class="mat-elevation-z8" width="100%">

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->


  <!-- Name Column -->
  <ng-container matColumnDef="type">
    <th mat-header-cell *matHeaderCellDef> </th>
    <td mat-cell *matCellDef="let subject" [style.background-color]="subject.Color"></td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="reception">
    <th mat-header-cell *matHeaderCellDef> Reception </th>
    <td mat-cell *matCellDef="let subject" [style.background-color]="subject.Color">
      <a mat-list-item>
        <mat-icon>signal_cellular_4_bar</mat-icon>
    </a> </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> ID </th>
    <td mat-cell *matCellDef="let subject" [style.background-color]="subject.Color"> <div *ngIf="!subject.Mac; else mac">{{subject.Major}} / {{subject.Minor}}</div> <ng-template #mac>{{subject.Mac}}</ng-template> &nbsp;&nbsp;&nbsp;<mat-icon *ngIf="subject.UUID !== ownUUID">warning</mat-icon></td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef> Name </th>
    <td mat-cell *matCellDef="let subject" [style.background-color]="subject.Color"> <div *ngIf="!subject.ShowEditnameField" [style.white-space]="'nowrap'"><div *ngIf="subject.Name === undefined || subject.Name === ''; else name">-  <button (click)="openDialog(subject)">Edit</button></div> <ng-template #name>{{subject.Name}}  <button (click)="openDialog(subject)">Edit</button></ng-template> </div> <div *ngIf="subject.ShowEditnameField" ><input [(ngModel)]="subject.Name" (focus)="setFocused(subject.Mac)" (focusout)="setFocused('')"><button (click)="publishName(subject.Mac, subject.Name); subject.ShowEditnameField = !subject.ShowEditnameField">Submit</button></div></td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="hardware">
    <th mat-header-cell *matHeaderCellDef> Hardware </th>
    <td mat-cell *matCellDef="let subject" [style.background-color]="subject.Color"></td>
  </ng-container>

  <ng-container matColumnDef="note">
    <th mat-header-cell *matHeaderCellDef> Note </th>
    <td mat-cell *matCellDef="let subject" [style.background-color]="subject.Color"> <div *ngIf="subject.UUID !== ownUUID">{{subject.UUID}}</div> </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

</table>
